PREFIX icd: <http://xml.web.boeing.com/icd#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT *
WHERE {
  VALUES ?user (icd:BEMS1618860)

  ?columnld rdf:type icd:ViewColumn.
  ?columnld icd:Owner ?viewld.

  # Column attributes go here
  ?columnld icd:column_type ?column_type.
  ?columnld icd:column_attribute ?column_attribute.

  ?viewld rdf:type ?viewOwnerType.
  ?viewld rdfs:label ?viewOwnerName.
  ?viewld rdfs:label ?viewName.
  ?viewld icd:Owner ?viewOwnerld.

  BIND(?viewOwnerld = ?user AS ?isUserView)
  BIND(EXISTS { ?viewOwnerld icd:Member+ ?user } AS ?isGroupView)
  BIND(EXISTS { ?viewOwnerld icd:AssignedTo ?user } AS ?isRoleView)
  BIND(EXISTS { ?viewld ^icd:DefaultView ?user } AS ?isUserDefault)
  BIND(EXISTS { ?viewld ^icd:DefaultView/rdf:type icd:Project } AS ?isProjectDefault)

  FILTER(?isGroupView || ?isRoleView || ?isUserView || ?isUserDefault || ?isProjectDefault)
}
